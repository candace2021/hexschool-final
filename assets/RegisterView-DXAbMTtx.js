import{r as p,c as w,a as s,w as n,v as i,t as r,k as f,l as k,m as g,u as x,o as b,p as V}from"./index-BYGXMI_p.js";import{_ as y,a as B,v as d}from"./validators-EXw2sfJw.js";import{a as C,S as R}from"./api-C2WDP3Ef.js";const T={class:"account"},U={class:"box"},E={class:"form"},N={class:"btn"},K={__name:"RegisterView",setup(S){const m=x(),a=p({email:"",nickname:"",password:"",password2:""}),t=p({email:"",nickname:"",password:"",password2:""}),v=async()=>{const o=t.value;if(o.email=d.email(a.value.email),o.nickname=d.nickname(a.value.nickname),o.password=d.password(a.value.password),o.password2=d.password2(a.value.password2,a.value.password),!o.email&&!o.nickname&&!o.password&&!o.password2){const l=await C("post","/users/sign_up",a.value);l!==void 0&&l.status&&R.fire({title:"註冊成功",icon:"success",confirmButtonText:"OK"}).then(u=>{u.isConfirmed&&m.push("/login")})}};return(o,l)=>{const u=g("RouterLink");return b(),w("div",T,[s("div",U,[l[12]||(l[12]=s("div",{class:"img pc"},[s("img",{src:y,alt:"online todo list"})],-1)),l[13]||(l[13]=s("div",{class:"img mo"},[s("img",{src:B,alt:"online todo list"})],-1)),s("div",E,[l[11]||(l[11]=s("h2",{class:"title"},"註冊帳號",-1)),s("form",null,[s("div",null,[l[5]||(l[5]=s("label",{for:""},"Email",-1)),n(s("input",{type:"text",placeholder:"請輸入Email","onUpdate:modelValue":l[0]||(l[0]=e=>a.value.email=e)},null,512),[[i,a.value.email]]),s("small",null,r(t.value.email),1)]),s("div",null,[l[6]||(l[6]=s("label",{for:""},"您的暱稱",-1)),n(s("input",{type:"text",placeholder:"請輸入您的暱稱","onUpdate:modelValue":l[1]||(l[1]=e=>a.value.nickname=e)},null,512),[[i,a.value.nickname]]),s("small",null,r(t.value.nickname),1)]),s("div",null,[l[7]||(l[7]=s("label",{for:""},"密碼",-1)),n(s("input",{type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":l[2]||(l[2]=e=>a.value.password=e)},null,512),[[i,a.value.password]]),s("small",null,r(t.value.password),1)]),s("div",null,[l[8]||(l[8]=s("label",{for:""},"再次輸入密碼",-1)),n(s("input",{type:"password",placeholder:"請再次輸入密碼","onUpdate:modelValue":l[3]||(l[3]=e=>a.value.password2=e)},null,512),[[i,a.value.password2]]),s("small",null,r(t.value.password2),1)])]),s("div",N,[s("button",{type:"button",onClick:l[4]||(l[4]=e=>v())},"註冊帳號"),l[10]||(l[10]=s("br",null,null,-1)),f(u,{to:"/login"},{default:k(()=>[...l[9]||(l[9]=[V("登入",-1)])]),_:1})])])])])}}};export{K as default};
